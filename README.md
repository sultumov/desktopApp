# ArXiv Assistant

Приложение для работы с научными статьями из ArXiv. Позволяет искать статьи, создавать краткие содержания, находить источники и сохранять статьи в локальной библиотеке.

## Основные возможности

- Поиск статей на ArXiv
- Генерация кратких содержаний с помощью AI (OpenAI GPT или локальные модели Hugging Face)
- Поддержка как русского, так и английского языка для анализа статей
- Интеллектуальное структурирование кратких содержаний статей
- Поиск источников в тексте статьи
- Локальная библиотека статей
- Экспорт статей в различные форматы (BibTeX, текст)

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/yourusername/arxiv-assistant.git
cd arxiv-assistant
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate     # для Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл .env в корневой директории и добавьте необходимые переменные окружения:
```
AI_SERVICE=openai         # openai или huggingface
AI_MODEL=gpt-4-turbo-preview  # или gpt-3.5-turbo, если используете OpenAI
OPENAI_API_KEY=your_api_key   # ваш ключ API OpenAI, если используете этот сервис
LANGUAGE=ru               # язык интерфейса и предпочтительный язык генерации (ru или en)
RESULTS_COUNT=10          # количество результатов поиска
```

## Использование

Запустите приложение:
```bash
python main.py
```

### Генерация кратких содержаний

Приложение поддерживает два режима генерации кратких содержаний:

1. **Через OpenAI API** - для этого укажите в .env:
   ```
   AI_SERVICE=openai
   AI_MODEL=gpt-4-turbo-preview или gpt-3.5-turbo
   OPENAI_API_KEY=your_api_key
   ```

2. **Через локальные модели Hugging Face** - для этого укажите:
   ```
   AI_SERVICE=huggingface
   ```
   В этом режиме приложение автоматически определит язык статьи и выберет 
   подходящую модель (BART для английского или mBART для русского языка).

Приложение может генерировать краткие содержания двумя способами:
- **На основе аннотации** - быстрый вариант, использующий только доступную аннотацию статьи
- **На основе полного текста** - более полный и детальный вариант, требующий скачивания PDF-файла статьи и извлечения из него текста

Все сгенерированные краткие содержания структурируются по разделам:
- Проблема и цель исследования
- Методология
- Результаты
- Выводы и значимость

## Структура проекта

```
arxiv-assistant/
├── main.py              # Точка входа в приложение
├── requirements.txt     # Зависимости проекта
├── .env                 # Конфигурация
├── models/              # Модели данных
├── services/            # Сервисы для работы с API
│   ├── ai_service.py    # Сервис генерации кратких содержаний
│   ├── arxiv_service.py # Сервис для работы с ArXiv API
│   └── storage_service.py # Сервис хранения статей
├── ui/                  # Пользовательский интерфейс
│   ├── main_window.py   # Главное окно приложения
│   └── icons/           # Иконки приложения
├── utils/               # Вспомогательные утилиты
└── logs/                # Логи приложения
```

## Требования

- Python 3.8 или выше
- PyQt6 для графического интерфейса
- OpenAI API ключ (опционально)
- Достаточно RAM для запуска локальных моделей Hugging Face (опционально)

## Тестирование

Проект содержит набор юнит-тестов и интеграционных тестов для проверки функциональности, особенно в части генерации кратких содержаний и извлечения текста из PDF.

### Установка зависимостей для тестирования

```bash
pip install -r requirements-dev.txt
```

### Запуск тестов

```bash
# Запуск всех тестов
pytest

# Запуск тестов с подробным выводом
pytest -v

# Запуск конкретного теста
pytest test_article_summary.py::ArticleSummaryTests::test_create_summary_with_full_text

# Запуск тестов с маркером (тестов, связанных с PDF)
pytest -m pdf
```

### Запуск тестов с переменными окружения

Некоторые тесты требуют переменных окружения:

```bash
# Запуск более медленных и ресурсоемких тестов
RUN_SLOW_TESTS=1 pytest

# Запуск интеграционных тестов
RUN_INTEGRATION_TESTS=1 pytest
```

## Лицензия

MIT License 